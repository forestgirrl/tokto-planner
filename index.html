<template>
  <div class="p-4 bg-gray-50 min-h-screen font-sans text-gray-800">
    
    <h2 class="text-2xl font-bold text-center text-rose-500 mb-6 tracking-widest">
      å®¿ãƒ»ä½å®¿è³‡è¨Š
    </h2>

    <div class="space-y-6 max-w-md mx-auto">
      
      <div 
        v-for="(hotel, index) in hotels" 
        :key="hotel.id" 
        class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 transition-all duration-300 hover:shadow-lg"
      >
        
        <div v-if="!hotel.isEditing">
          <div class="relative h-48 w-full overflow-hidden group">
            <img 
              :src="hotel.image" 
              alt="Hotel Image" 
              class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
            >
            <a 
              :href="hotel.mapUrl" 
              target="_blank" 
              class="absolute bottom-3 right-3 bg-white/90 hover:bg-rose-500 hover:text-white text-rose-500 px-3 py-1 rounded-full text-xs font-bold shadow-sm flex items-center gap-1 transition-colors"
            >
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
              </svg>
              Google Map
            </a>
          </div>

          <div class="p-4">
            <div class="flex justify-between items-start mb-2">
              <h3 class="text-lg font-bold text-gray-800 leading-tight">
                {{ index + 1 }}. {{ hotel.name }}
              </h3>
            </div>
            
            <p class="text-xs text-gray-500 mb-4 flex items-center">
              <span class="mr-1">ğŸ“</span> {{ hotel.address }}
            </p>

            <div class="flex gap-2 mt-2 pt-3 border-t border-gray-100">
              <button 
                @click="toggleEdit(hotel.id)" 
                class="flex-1 bg-gray-100 hover:bg-gray-200 text-gray-600 py-2 rounded-lg text-sm font-medium transition-colors"
              >
                ç·¨è¼¯
              </button>
              <button 
                @click="deleteHotel(hotel.id)" 
                class="flex-1 bg-rose-50 hover:bg-rose-100 text-rose-600 py-2 rounded-lg text-sm font-medium transition-colors"
              >
                åˆªé™¤
              </button>
            </div>
          </div>
        </div>

        <div v-else class="p-4 bg-gray-50">
          <h4 class="text-sm font-bold text-gray-500 mb-3">ç·¨è¼¯ä½å®¿è³‡è¨Š</h4>
          
          <div class="space-y-3">
            <div>
              <label class="block text-xs text-gray-400 mb-1">é£¯åº—åç¨±</label>
              <input 
                v-model="hotel.name" 
                type="text" 
                class="w-full border border-gray-300 rounded p-2 text-sm focus:outline-none focus:border-rose-500"
              >
            </div>
            
            <div>
              <label class="block text-xs text-gray-400 mb-1">åœ°å€ / å‚™è¨»</label>
              <input 
                v-model="hotel.address" 
                type="text" 
                class="w-full border border-gray-300 rounded p-2 text-sm focus:outline-none focus:border-rose-500"
              >
            </div>

            <div>
              <label class="block text-xs text-gray-400 mb-1">Google Map é€£çµ</label>
              <input 
                v-model="hotel.mapUrl" 
                type="text" 
                class="w-full border border-gray-300 rounded p-2 text-sm focus:outline-none focus:border-rose-500"
              >
            </div>

             <div>
              <label class="block text-xs text-gray-400 mb-1">åœ–ç‰‡é€£çµ (URL)</label>
              <input 
                v-model="hotel.image" 
                type="text" 
                class="w-full border border-gray-300 rounded p-2 text-sm focus:outline-none focus:border-rose-500"
              >
            </div>

            <div class="flex gap-2 mt-4">
              <button 
                @click="saveHotel(hotel.id)" 
                class="flex-1 bg-rose-500 hover:bg-rose-600 text-white py-2 rounded-lg text-sm font-medium transition-colors"
              >
                å„²å­˜
              </button>
            </div>
          </div>
        </div>

      </div>

      <button 
        @click="addNewPlaceholder"
        class="w-full py-3 border-2 border-dashed border-gray-300 text-gray-400 rounded-xl hover:border-rose-400 hover:text-rose-500 transition-colors flex items-center justify-center gap-2"
      >
        <span>+</span> æ–°å¢ä½å®¿
      </button>

    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue';

// åˆå§‹è³‡æ–™ï¼šä¾æ“šä½ çš„è¦æ±‚å¡«å…¥çš„ 4 é–“é£¯åº—
// åœ–ç‰‡ä½¿ç”¨ Unsplash çš„ç¤ºæ„åœ–ï¼Œå¯¦éš›å°ˆæ¡ˆä¸­å¯æ›¿æ›ç‚ºæœ¬åœ°è·¯å¾‘
const hotels = ref([
  {
    id: 1,
    name: 'Sotetsu Fresa Innå¤§é–€ç«™',
    address: 'æ±äº¬éƒ½æ¸¯å€èŠå¤§é–€ (è¿‘æ±äº¬éµå¡”)',
    mapUrl: 'https://www.google.com/maps/search/?api=1&query=Sotetsu+Fresa+Inn+Daimon',
    image: 'https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?auto=format&fit=crop&q=80&w=800', 
    isEditing: false
  },
  {
    id: 2,
    name: 'æ±äº¬è¿ªå£«å°¼æµ·æ´‹å¤¢å¹»æ³‰é„‰å¤§é£¯åº— (å¤¢å¹»é¤¨)',
    address: 'åƒè‘‰ç¸£æµ¦å®‰å¸‚ (è¿ªå£«å°¼æµ·æ´‹åœ’å€)',
    mapUrl: 'https://www.google.com/maps/search/?api=1&query=Tokyo+DisneySea+Fantasy+Springs+Hotel',
    image: 'https://images.unsplash.com/photo-1628151016056-b040924040a4?auto=format&fit=crop&q=80&w=800', // ç¤ºæ„è¿ªå£«å°¼é¢¨æ ¼
    isEditing: false
  },
  {
    id: 3,
    name: 'Hotel Okura Tokyo Bay',
    address: 'åƒè‘‰ç¸£æµ¦å®‰å¸‚èˆæ¿± (è¿ªå£«å°¼åº¦å‡å€)',
    mapUrl: 'https://www.google.com/maps/search/?api=1&query=Hotel+Okura+Tokyo+Bay',
    image: 'https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&q=80&w=800',
    isEditing: false
  },
  {
    id: 4,
    name: 'The Gate Hotel Kaminarimon by Hulic',
    address: 'æ±äº¬éƒ½å°æ±å€é›·é–€ (æ·ºè‰)',
    mapUrl: 'https://www.google.com/maps/search/?api=1&query=The+Gate+Hotel+Kaminarimon+by+Hulic',
    image: 'https://images.unsplash.com/photo-1445019980597-93fa8acb246c?auto=format&fit=crop&q=80&w=800', // ç¤ºæ„æ·ºè‰/æ—¥å¼é¢¨æ ¼
    isEditing: false
  }
]);

// åˆ‡æ›ç·¨è¼¯æ¨¡å¼
const toggleEdit = (id) => {
  const hotel = hotels.value.find(h => h.id === id);
  if (hotel) {
    hotel.isEditing = !hotel.isEditing;
  }
};

// å„²å­˜ç·¨è¼¯
const saveHotel = (id) => {
  const hotel = hotels.value.find(h => h.id === id);
  if (hotel) {
    hotel.isEditing = false;
    // é€™è£¡é€šå¸¸æœƒåŠ ä¸Š API å‘¼å«å°‡è³‡æ–™å­˜å›å¾Œç«¯
    console.log('Saved:', hotel);
  }
};

// åˆªé™¤é …ç›®
const deleteHotel = (id) => {
  if (confirm('ç¢ºå®šè¦åˆªé™¤é€™ç­†ä½å®¿è³‡è¨Šå—ï¼Ÿ')) {
    hotels.value = hotels.value.filter(h => h.id !== id);
  }
};

// æ–°å¢ç©ºç™½é …ç›® (åŠŸèƒ½ç¤ºæ„)
const addNewPlaceholder = () => {
  const newId = hotels.value.length > 0 ? Math.max(...hotels.value.map(h => h.id)) + 1 : 1;
  hotels.value.push({
    id: newId,
    name: 'æ–°ä½å®¿åç¨±',
    address: 'è«‹è¼¸å…¥åœ°å€',
    mapUrl: 'https://www.google.com/maps',
    image: 'https://images.unsplash.com/photo-1596394516093-501ba68a0ba6?auto=format&fit=crop&q=80&w=800',
    isEditing: true // æ–°å¢å¾Œç›´æ¥é€²å…¥ç·¨è¼¯æ¨¡å¼
  });
};
</script>
